DROP TABLE board;
DROP TABLE projection;
DROP TABLE players;

CREATE TABLE players (
    player_id tinyint(1)  NOT NULL,
    username VARCHAR(20) DEFAULT NULL,
    token VARCHAR(100) DEFAULT NULL,
    last_action timestamp NULL DEFAULT NULL,
    PRIMARY KEY(player_id)

);

/*CREATE TABLE board (
        board_id tinyint(1)  NOT NULL,
        player_id tinyint(1) DEFAULT NULL,
        x tinyint(1) NOT NULL,
        y tinyint(1) NOT NULL,
        
        PRIMARY KEY (board_id, x, y),

        CONSTRAINT fk_type 
        FOREIGN KEY(player_id) 
        REFERENCES players(player_id)
); */


CREATE TABLE projection (
        projection_id tinyint(1) NOT NULL,
        player_id tinyint(1) DEFAULT NULL, 
        x_p tinyint(1) NOT NULL,
        y_p tinyint(1) NOT NULL,
        
        cell_status tinyint(1) DEFAULT NULL, 

        PRIMARY KEY(projection_id,x_p,y_p),

        CONSTRAINT fk_type2 
        FOREIGN KEY(player_id) 
        REFERENCES players(player_id)
    
);


CREATE TABLE game_status (
        game_stat ENUM('not active','initialized','started','ended','aborded') NOT NULL DEFAULT 'not active',
        p_turn ENUM(1,2) DEFAULT NULL,
        result ENUM(1,2) DEFAULT NULL,
        last_change timestamp NULL DEFAULT NULL
);


INSERT INTO players(player_id,username,token,last_action) VALUES
                (1,'protos',NULL,NULL),
                (2, 'deuteros',NULL,NULL);
/*
INSERT INTO board(board_id, player_id, x, y) VALUES
                            (1, 1, 1, 1),
                            (1, 1, 2, 1),
                            (1, 1, 3, 1),
                            (1, 1, 4, 1),
                            (1, 1, 5, 1),
                            (1, 1, 6, 1),
                            (1, 1, 7, 1),
                            (1, 1, 8, 1),
                            (1, 1, 9, 1),
                            (1, 1, 10, 1),
                            (1, 1, 1, 2),
                            (1, 1, 2, 2),
                            (1, 1, 3, 2),
                            (1, 1, 4, 2),
                            (1, 1, 5, 2),
                            (1, 1, 6, 2),
                            (1, 1, 7, 2),
                            (1, 1, 8, 2),
                            (1, 1, 9, 2),
                            (1, 1, 10, 2),
                            (1, 1, 1, 3),
                            (1, 1, 2, 3),
                            (1, 1, 3, 3),
                            (1, 1, 4, 3),
                            (1, 1, 5, 3),
                            (1, 1, 6, 3),
                            (1, 1, 7, 3),
                            (1, 1, 8, 3),
                            (1, 1, 9, 3),
                            (1, 1, 10, 3),
                            (1, 1, 1, 4),
                            (1, 1, 2, 4),
                            (1, 1, 3, 4),
                            (1, 1, 4, 4),
                            (1, 1, 5, 4),
                            (1, 1, 6, 4),
                            (1, 1, 7, 4),
                            (1, 1, 8, 4),
                            (1, 1, 9, 4),
                            (1, 1, 10, 4),
                            (1, 1, 1, 5),
                            (1, 1, 2, 5),
                            (1, 1, 3, 5),
                            (1, 1, 4, 5),
                            (1, 1, 5, 5),
                            (1, 1, 6, 5),
                            (1, 1, 7, 5),
                            (1, 1, 8, 5),
                            (1, 1, 9, 5),
                            (1, 1, 10, 5),
                            (1, 1, 1, 6),
                            (1, 1, 2, 6),
                            (1, 1, 3, 6),
                            (1, 1, 4, 6),
                            (1, 1, 5, 6),
                            (1, 1, 6, 6),
                            (1, 1, 7, 6),
                            (1, 1, 8, 6),
                            (1, 1, 9, 6),
                            (1, 1, 10, 6),
                            (1, 1, 1, 7),
                            (1, 1, 2, 7),
                            (1, 1, 3, 7),
                            (1, 1, 4, 7),
                            (1, 1, 5, 7),
                            (1, 1, 6, 7),
                            (1, 1, 7, 7),
                            (1, 1, 8, 7),
                            (1, 1, 9, 7),
                            (1, 1, 10, 7),
                            (1, 1, 1, 8),
                            (1, 1, 2, 8),
                            (1, 1, 3, 8),
                            (1, 1, 4, 8),
                            (1, 1, 5, 8),
                            (1, 1, 6, 8),
                            (1, 1, 7, 8),
                            (1, 1, 8, 8),
                            (1, 1, 9, 8),
                            (1, 1, 10, 8),
                            (1, 1, 1, 9),
                            (1, 1, 2, 9),
                            (1, 1, 3, 9),
                            (1, 1, 4, 9),
                            (1, 1, 5, 9),
                            (1, 1, 6, 9),
                            (1, 1, 7, 9),
                            (1, 1, 8, 9),
                            (1, 1, 9, 9),
                            (1, 1, 10, 9),
                            (1, 1, 1, 10),
                            (1, 1, 2, 10),
                            (1, 1, 3, 10),
                            (1, 1, 4, 10),
                            (1, 1, 5, 10),
                            (1, 1, 6, 10),
                            (1, 1, 7, 10),
                            (1, 1, 8, 10),
                            (1, 1, 9, 10),
                            (1, 1, 10, 10),

                            (2, 2, 1, 1),
                            (2, 2, 2, 1),
                            (2, 2, 3, 1),
                            (2, 2, 4, 1),
                            (2, 2, 5, 1),
                            (2, 2, 6, 1),
                            (2, 2, 7, 1),
                            (2, 2, 8, 1),
                            (2, 2, 9, 1),
                            (2, 2, 10, 1),
                            (2, 2, 1, 2),
                            (2, 2, 2, 2),
                            (2, 2, 3, 2),
                            (2, 2, 4, 2),
                            (2, 2, 5, 2),
                            (2, 2, 6, 2),
                            (2, 2, 7, 2),
                            (2, 2, 8, 2),
                            (2, 2, 9, 2),
                            (2, 2, 10, 2),
                            (2, 2, 1, 3),
                            (2, 2, 2, 3),
                            (2, 2, 3, 3),
                            (2, 2, 4, 3),
                            (2, 2, 5, 3),
                            (2, 2, 6, 3),
                            (2, 2, 7, 3),
                            (2, 2, 8, 3),
                            (2, 2, 9, 3),
                            (2, 2, 10, 3),
                            (2, 2, 1, 4),
                            (2, 2, 2, 4),
                            (2, 2, 3, 4),
                            (2, 2, 4, 4),
                            (2, 2, 5, 4),
                            (2, 2, 6, 4),
                            (2, 2, 7, 4),
                            (2, 2, 8, 4),
                            (2, 2, 9, 4),
                            (2, 2, 10, 4),
                            (2, 2, 1, 5),
                            (2, 2, 2, 5),
                            (2, 2, 3, 5),
                            (2, 2, 4, 5),
                            (2, 2, 5, 5),
                            (2, 2, 6, 5),
                            (2, 2, 7, 5),
                            (2, 2, 8, 5),
                            (2, 2, 9, 5),
                            (2, 2, 10, 5),
                            (2, 2, 1, 6),
                            (2, 2, 2, 6),
                            (2, 2, 3, 6),
                            (2, 2, 4, 6),
                            (2, 2, 5, 6),
                            (2, 2, 6, 6),
                            (2, 2, 7, 6),
                            (2, 2, 8, 6),
                            (2, 2, 9, 6),
                            (2, 2, 10, 6),
                            (2, 2, 1, 7),
                            (2, 2, 2, 7),
                            (2, 2, 3, 7),
                            (2, 2, 4, 7),
                            (2, 2, 5, 7),
                            (2, 2, 6, 7),
                            (2, 2, 7, 7),
                            (2, 2, 8, 7),
                            (2, 2, 9, 7),
                            (2, 2, 10, 7),
                            (2, 2, 1, 8),
                            (2, 2, 2, 8),
                            (2, 2, 3, 8),
                            (2, 2, 4, 8),
                            (2, 2, 5, 8),
                            (2, 2, 6, 8),
                            (2, 2, 7, 8),
                            (2, 2, 8, 8),
                            (2, 2, 9, 8),
                            (2, 2, 10, 8),
                            (2, 2, 1, 9),
                            (2, 2, 2, 9),
                            (2, 2, 3, 9),
                            (2, 2, 4, 9),
                            (2, 2, 5, 9),
                            (2, 2, 6, 9),
                            (2, 2, 7, 9),
                            (2, 2, 8, 9),
                            (2, 2, 9, 9),
                            (2, 2, 10, 9),
                            (2, 2, 1, 10),
                            (2, 2, 2, 10),
                            (2, 2, 3, 10),
                            (2, 2, 4, 10),
                            (2, 2, 5, 10),
                            (2, 2, 6, 10),
                            (2, 2, 7, 10),
                            (2, 2, 8, 10),
                            (2, 2, 9, 10),
                            (2, 2, 10, 10);
*/

INSERT INTO projection(projection_id, player_id, x_p, y_p, cell_status) VALUES
                                (1, 1, 1, 1, NULL),
                                (1, 1, 2, 1, NULL),
                                (1, 1, 3, 1, NULL),
                                (1, 1, 4, 1, NULL),
                                (1, 1, 5, 1, NULL),
                                (1, 1, 6, 1, NULL),
                                (1, 1, 7, 1, NULL),
                                (1, 1, 8, 1, NULL),
                                (1, 1, 9, 1, NULL),
                                (1, 1, 10, 1, NULL),
                                (1, 1, 1, 2, NULL),
                                (1, 1, 2, 2, NULL),
                                (1, 1, 3, 2, NULL),
                                (1, 1, 4, 2, NULL),
                                (1, 1, 5, 2, NULL),
                                (1, 1, 6, 2, NULL),
                                (1, 1, 7, 2, NULL),
                                (1, 1, 8, 2, NULL),
                                (1, 1, 9, 2, NULL),
                                (1, 1, 10, 2, NULL),
                                (1, 1, 1, 3, NULL),
                                (1, 1, 2, 3, NULL),
                                (1, 1, 3, 3, NULL),
                                (1, 1, 4, 3, NULL),
                                (1, 1, 5, 3, NULL),
                                (1, 1, 6, 3, NULL),
                                (1, 1, 7, 3, NULL),
                                (1, 1, 8, 3, NULL),
                                (1, 1, 9, 3, NULL),
                                (1, 1, 10, 3, NULL),
                                (1, 1, 1, 4, NULL),
                                (1, 1, 2, 4, NULL),
                                (1, 1, 3, 4, NULL),
                                (1, 1, 4, 4, NULL),
                                (1, 1, 5, 4, NULL),
                                (1, 1, 6, 4, NULL),
                                (1, 1, 7, 4, NULL),
                                (1, 1, 8, 4, NULL),
                                (1, 1, 9, 4, NULL),
                                (1, 1, 10, 4, NULL),
                                (1, 1, 1, 5, NULL),
                                (1, 1, 2, 5, NULL),
                                (1, 1, 3, 5, NULL),
                                (1, 1, 4, 5, NULL),
                                (1, 1, 5, 5, NULL),
                                (1, 1, 6, 5, NULL),
                                (1, 1, 7, 5, NULL),
                                (1, 1, 8, 5, NULL),
                                (1, 1, 9, 5, NULL),
                                (1, 1, 10, 5, NULL),
                                (1, 1, 1, 6, NULL),
                                (1, 1, 2, 6, NULL),
                                (1, 1, 3, 6, NULL),
                                (1, 1, 4, 6, NULL),
                                (1, 1, 5, 6, NULL),
                                (1, 1, 6, 6, NULL),
                                (1, 1, 7, 6, NULL),
                                (1, 1, 8, 6, NULL),
                                (1, 1, 9, 6, NULL),
                                (1, 1, 10, 6, NULL),
                                (1, 1, 1, 7, NULL),
                                (1, 1, 2, 7, NULL),
                                (1, 1, 3, 7, NULL),
                                (1, 1, 4, 7, NULL),
                                (1, 1, 5, 7, NULL),
                                (1, 1, 6, 7, NULL),
                                (1, 1, 7, 7, NULL),
                                (1, 1, 8, 7, NULL),
                                (1, 1, 9, 7, NULL),
                                (1, 1, 10, 7, NULL),
                                (1, 1, 1, 8, NULL),
                                (1, 1, 2, 8, NULL),
                                (1, 1, 3, 8, NULL),
                                (1, 1, 4, 8, NULL),
                                (1, 1, 5, 8, NULL),
                                (1, 1, 6, 8, NULL),
                                (1, 1, 7, 8, NULL),
                                (1, 1, 8, 8, NULL),
                                (1, 1, 9, 8, NULL),
                                (1, 1, 10, 8, NULL),
                                (1, 1, 1, 9, NULL),
                                (1, 1, 2, 9, NULL),
                                (1, 1, 3, 9, NULL),
                                (1, 1, 4, 9, NULL),
                                (1, 1, 5, 9, NULL),
                                (1, 1, 6, 9, NULL),
                                (1, 1, 7, 9, NULL),
                                (1, 1, 8, 9, NULL),
                                (1, 1, 9, 9, NULL),
                                (1, 1, 10, 9, NULL),
                                (1, 1, 1, 10, NULL),
                                (1, 1, 2, 10, NULL),
                                (1, 1, 3, 10, NULL),
                                (1, 1, 4, 10, NULL),
                                (1, 1, 5, 10, NULL),
                                (1, 1, 6, 10, NULL),
                                (1, 1, 7, 10, NULL),
                                (1, 1, 8, 10, NULL),
                                (1, 1, 9, 10, NULL),
                                (1, 1, 10, 10, NULL),

                                (2, 2, 1, 1, NULL),
                                (2, 2, 2, 1, NULL),
                                (2, 2, 3, 1, NULL),
                                (2, 2, 4, 1, NULL),
                                (2, 2, 5, 1, NULL),
                                (2, 2, 6, 1, NULL),
                                (2, 2, 7, 1, NULL),
                                (2, 2, 8, 1, NULL),
                                (2, 2, 9, 1, NULL),
                                (2, 2, 10, 1, NULL),
                                (2, 2, 1, 2, NULL),
                                (2, 2, 2, 2, NULL),
                                (2, 2, 3, 2, NULL),
                                (2, 2, 4, 2, NULL),
                                (2, 2, 5, 2, NULL),
                                (2, 2, 6, 2, NULL),
                                (2, 2, 7, 2, NULL),
                                (2, 2, 8, 2, NULL),
                                (2, 2, 9, 2, NULL),
                                (2, 2, 10, 2, NULL),    
                                (2, 2, 1, 3, NULL),
                                (2, 2, 2, 3, NULL),
                                (2, 2, 3, 3, NULL),
                                (2, 2, 4, 3, NULL),
                                (2, 2, 5, 3, NULL),
                                (2, 2, 6, 3, NULL),
                                (2, 2, 7, 3, NULL),
                                (2, 2, 8, 3, NULL),
                                (2, 2, 9, 3, NULL),
                                (2, 2, 10, 3, NULL),
                                (2, 2, 1, 4, NULL),
                                (2, 2, 2, 4, NULL),
                                (2, 2, 3, 4, NULL),
                                (2, 2, 4, 4, NULL),
                                (2, 2, 5, 4, NULL),
                                (2, 2, 6, 4, NULL),
                                (2, 2, 7, 4, NULL),
                                (2, 2, 8, 4, NULL),
                                (2, 2, 9, 4, NULL),
                                (2, 2, 10, 4, NULL),
                                (2, 2, 1, 5, NULL),
                                (2, 2, 2, 5, NULL),
                                (2, 2, 3, 5, NULL),
                                (2, 2, 4, 5, NULL),
                                (2, 2, 5, 5, NULL),
                                (2, 2, 6, 5, NULL),
                                (2, 2, 7, 5, NULL),
                                (2, 2, 8, 5, NULL),
                                (2, 2, 9, 5, NULL),
                                (2, 2, 10, 5, NULL),
                                (2, 2, 1, 6, NULL),
                                (2, 2, 2, 6, NULL),
                                (2, 2, 3, 6, NULL),
                                (2, 2, 4, 6, NULL),
                                (2, 2, 5, 6, NULL),
                                (2, 2, 6, 6, NULL),
                                (2, 2, 7, 6, NULL),
                                (2, 2, 8, 6, NULL),
                                (2, 2, 9, 6, NULL),
                                (2, 2, 10, 6, NULL),
                                (2, 2, 1, 7, NULL),
                                (2, 2, 2, 7, NULL),
                                (2, 2, 3, 7, NULL),
                                (2, 2, 4, 7, NULL),
                                (2, 2, 5, 7, NULL),
                                (2, 2, 6, 7, NULL),
                                (2, 2, 7, 7, NULL),
                                (2, 2, 8, 7, NULL),
                                (2, 2, 9, 7, NULL),
                                (2, 2, 10, 7, NULL),
                                (2, 2, 1, 8, NULL),
                                (2, 2, 2, 8, NULL),
                                (2, 2, 3, 8, NULL),
                                (2, 2, 4, 8, NULL),
                                (2, 2, 5, 8, NULL),
                                (2, 2, 6, 8, NULL),
                                (2, 2, 7, 8, NULL),
                                (2, 2, 8, 8, NULL),
                                (2, 2, 9, 8, NULL),
                                (2, 2, 10, 8, NULL),
                                (2, 2, 1, 10, NULL),
                                (2, 2, 2, 10, NULL),
                                (2, 2, 3, 10, NULL),
                                (2, 2, 4, 10, NULL),
                                (2, 2, 5, 10, NULL),
                                (2, 2, 6, 10, NULL),
                                (2, 2, 7, 10, NULL),
                                (2, 2, 8, 10, NULL),
                                (2, 2, 9, 10, NULL),
                                (2, 2, 10, 10, NULL);


